# @package _global_

# to execute this experiment run:
# python train.py experiment=local_1

defaults:
  - default
  - override /dataset@model: libritts

# all parameters below will be merged with parameters from default configurations set above
# this allows you to overwrite only specified parameters

model:
  manifests_dir: data/parsed/LibriTTS
  textgrid_dir: /datasets/LibriTTS_R/LibriTTSCorpusLabel/textgrid
  
  corpus_dir: /datasets/LibriTTS_R/LibriTTS

  duration_predictor:
    depth: 4
    heads: 2

  voicebox:
    depth: 4
    heads: 2
    no_diffusion: True
    loss_masked: False
    frac_lengths_mask: [0.3, 0.5]

  # cfm_wrapper:
  #   cond_drop_prob: 0.0

  train_ds:
    lhotse:
      batch_duration: 300

  validation_ds:
    lhotse:
      batch_duration: 300

  test_ds:
    lhotse:
      batch_duration: 300

  ds_kwargs:
    num_workers: 8

# trainer:
#   val_check_interval: 300
  # check_val_every_n_epoch: null

exp_manager:
#   name: local_1
  version: ${model.voicebox.depth}-${model.voicebox.heads}-${model.voicebox.no_diffusion}-${model.voicebox.loss_masked}-${model.voicebox.frac_lengths_mask}

# task name, determines output directory path
task_name: "libritts-local_1"